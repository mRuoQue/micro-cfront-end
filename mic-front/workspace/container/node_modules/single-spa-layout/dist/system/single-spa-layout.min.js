/* single-spa-layout@1.3.1 - system */
System.register(["single-spa"],(function(e){"use strict";var t,n,r,o,a,i,c,u;return{setters:[function(e){t=e,n=e.addErrorHandler,r=e.removeErrorHandler,o=e.mountRootParcel,a=e.navigateToUrl,i=e.getAppStatus,c=e.SKIP_BECAUSE_BROKEN,u=e.LOAD_ERROR}],execute:function(){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e({constructApplications:function(e){var t=e.routes,n=e.loadApp,r={};return k(r,U,{},t.routes),Object.keys(r).map((function(e){var t=r[e];return{name:e,customProps:function(e,n){var r=A(t,(function(e){return e.activeWhen(n)}));return r?r.props:{}},activeWhen:t.map((function(e){return e.activeWhen})),app:function(){var r;m&&(r=A(t,(function(e){return e.activeWhen(window.location)})));var a=n({name:e});return r&&r.loader?function(e,t,n){return Promise.resolve().then((function(){var r,a=M(e),i=document.getElementById(a);i||((i=document.createElement("div")).id=a,i.style.display="none",document.body.appendChild(i),r=function(){i.style.removeProperty("display"),""===i.getAttribute("style")&&i.removeAttribute("style"),window.removeEventListener("single-spa:before-mount-routing-event",r)},window.addEventListener("single-spa:before-mount-routing-event",r));var c="string"==typeof t.loader?T(t.loader):t.loader,u=o(c,{name:"application-loader:".concat(e),domElement:i});function s(){return u.unmount().then((function(){r&&r()}))}return Promise.all([u.mountPromise,n]).then((function(e){var t,n=(2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),2!==n.length);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(t)||v(t,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=(n[0],n[1]);return s().then((function(){return r}))}),(function(e){return s().then((function(){throw e}))}))}))}(e,r,a):a}}}))},constructLayoutEngine:function(e){var t=e.routes,c=(e.applications,e.active),u=void 0===c||c,s=!1,l=[],d={},p=t.base.slice(0,t.base.length-1),f={isActive:function(){return s},activate:function(){s||(s=!0,m&&(window.addEventListener("single-spa:before-routing-event",h),window.addEventListener("single-spa:before-mount-routing-event",y),window.addEventListener("single-spa:routing-event",b),n(v),y()))},deactivate:function(){s&&(s=!1,m&&(window.removeEventListener("single-spa:before-routing-event",h),window.removeEventListener("single-spa:before-mount-routing-event",y),window.removeEventListener("single-spa:routing-event",b),r(v)))}};return u&&f.activate(),f;function v(e){var n=W({applicationName:e.appOrParcelName,location:window.location,routes:t.routes});if(n&&n.error){var r=document.getElementById(M(n.name)),a="string"==typeof n.error?T(n.error):n.error;d[n.name]=o(a,{domElement:r})}setTimeout((function(){throw e}))}function h(e){var n=e.detail,r=n.newAppStatuses,o=n.cancelNavigation,c=B(t);for(var u in t.redirects){var s=t.redirects[u];if(u===c){if(!o)throw Error("single-spa-layout: <redirect> requires single-spa@>=5.7.0");return o(),void a(s)}}for(var l in r)d[l]&&H(i(l))&&!H(r[l])&&(d[l].unmount(),delete d[l])}function y(){if(0===B(t).indexOf(p)){var e="string"==typeof t.containerEl?document.querySelector(t.containerEl):t.containerEl;I({location:window.location,routes:t.routes,parentContainer:e,shouldMount:!0,pendingRemovals:l})}}function b(e){var t=e.detail.appsByNewStatus;l.forEach((function(e){return e()})),l=[],t.NOT_MOUNTED.concat(t.NOT_LOADED).forEach((function(e){var t=document.getElementById(M(e));t&&t.isConnected&&t.parentNode.removeChild(t)}))}},constructRoutes:function(e,t){if(e&&e.nodeName)m&&!t&&window.singleSpaLayoutData&&(t=window.singleSpaLayoutData),e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("template"===e.nodeName.toLowerCase()&&(e=(e.content||e).querySelector("single-spa-router")),"single-spa-router"!==e.nodeName.toLowerCase())throw Error("single-spa-layout: The HTMLElement passed to constructRoutes must be <single-spa-router> or a <template> containing the router. Received ".concat(e.nodeName));m&&e.isConnected&&e.parentNode.removeChild(e);var n={routes:[],redirects:{}};S(e,"mode")&&(n.mode=S(e,"mode")),S(e,"base")&&(n.base=S(e,"base")),S(e,"containerEl")&&(n.containerEl=S(e,"containerEl"));for(var r=0;r<e.childNodes.length;r++){var o;(o=n.routes).push.apply(o,f(j(e.childNodes[r],t,n)))}return n}(e,t);else if(t)throw Error("constructRoutes should be called either with an HTMLElement and layoutData, or a single json object.");return function(e){y("routesConfig",e);var t=e.disableWarnings;if(g("routesConfig",e,["mode","base","containerEl","routes","disableWarnings","redirects"],t),e.hasOwnProperty("containerEl")?function(e,t){if("string"==typeof t?""===t.trim():!(m&&t instanceof HTMLElement))throw Error("Invalid ".concat(e,": received ").concat(t," but expected either non-blank string or HTMLElement"))}("routesConfig.containerEl",e.containerEl):e.containerEl="body",e.hasOwnProperty("mode")||(e.mode="history"),function(e,t,n){if(n.indexOf(t)<0)throw Error("Invalid ".concat(e,": received '").concat(t,"' but expected ").concat(n.join(", ")))}("routesConfig.mode",e.mode,["history","hash"]),e.hasOwnProperty("base")?(w("routesConfig.base",e.base),e.base=(o=e.base,0!==o.indexOf("/")&&(o="/"+o),"/"!==o[o.length-1]&&(o+="/"),o)):e.base="/",e.hasOwnProperty("redirects"))for(var n in y("routesConfig.redirects",e.redirects),e.redirects){var r=e.redirects[n];E("routesConfig.redirects key",n),E("routesConfig.redirects['".concat(n,"']"),r)}var o;var a=m?window.location.pathname:"/",i="hash"===e.mode?a+"#":"";N("routesConfig.routes",e.routes,(function e(n,r,o){var a,i=o.parentPath,c=o.siblingActiveWhens;if(y(r,n),"application"===n.type)g(r,n,["type","name","props","loader","error"],t),n.props&&y("".concat(r,".props"),n.props),w("".concat(r,".name"),n.name);else if("route"===n.type){g(r,n,["type","path","routes","props","default","exact"],t),n.hasOwnProperty("exact")&&b("".concat(r,".exact"),n.exact);var u,s=n.hasOwnProperty("path"),l=n.hasOwnProperty("default");if(s)w("".concat(r,".path"),n.path),u=O(i,n.path),n.activeWhen=P(u,n.exact),c.push(n.activeWhen);else{if(!l)throw Error("Invalid ".concat(r,": routes must have either a path or default property."));b("".concat(r,".default"),n.default),u=i,n.activeWhen=(a=c,function(e){return!a.some((function(t){return t(e)}))})}if(s&&l&&n.default)throw Error("Invalid ".concat(r,": cannot have both path and set default to true."));n.routes&&N("".concat(r,".routes"),n.routes,e,{parentPath:u,siblingActiveWhens:[]})}else{if("undefined"!=typeof Node&&n instanceof Node);else for(var d in n)"routes"!==d&&"attrs"!==d&&w("".concat(r,"['").concat(d,"']"),n[d],!1);n.routes&&N("".concat(r,".routes"),n.routes,e,{parentPath:i,siblingActiveWhens:c})}}),{parentPath:i+e.base,siblingActiveWhens:[]}),delete e.disableWarnings}(e),e}});var m="undefined"!=typeof window;function y(e,t){if("object"!==s(t)||Array.isArray(t)||null===t)throw Error("Invalid ".concat(e,": received ").concat(Array.isArray(t)?"array":t," but expected a plain object"))}function b(e,t){if("boolean"!=typeof t)throw Error("Invalid ".concat(e,": received ").concat(s(t),", but expected a boolean"))}function g(e,t,n,r){if(!r){var o=Object.keys(t),a=[];o.forEach((function(e){n.indexOf(e)<0&&a.push(e)})),a.length>0&&console.warn(Error("Invalid ".concat(e,": received invalid properties '").concat(a.join(", "),"', but valid properties are ").concat(n.join(", "))))}}function w(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"!=typeof t||n&&""===t.trim())throw Error("Invalid ".concat(e,": received '").concat(t,"', but expected a").concat(n?" non-blank":""," string"))}function E(e,t){if(w(e,t),t.indexOf("/")<0)throw Error("Invalid ".concat(e,": received '").concat(t,"', but expected an absolute path that starts with /"))}function N(e,t,n){if(!Array.isArray(t)&&("object"!==s(s(t))||"number"!==t.length))throw Error("Invalid ".concat(e,": received '").concat(t,"', but expected an array"));for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];for(var i=0;i<t.length;i++)n.apply(void 0,[t[i],"".concat(e,"[").concat(i,"]")].concat(o))}function O(e,t){var n;return"/"===(n="/"===e.substr(-1)?"/"===t[0]?e+t.slice(1):e+t:"/"===t[0]?e+t:e+"/"+t).substr(-1)&&n.length>1&&(n=n.slice(0,n.length-1)),n}function A(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}var P=Object.prototype.hasOwnProperty.call(t,"default")?Object.getOwnPropertyDescriptor(t,"default").value.pathToActiveWhen:t.pathToActiveWhen,C="undefined"!=typeof Symbol?Symbol():"@";function S(e,t){if(m)return e.getAttribute(t);var n=A(e.attrs,(function(e){return e.name===t.toLowerCase()}));return n?n.value:null}function L(e,t){return m?e.hasAttribute(t):e.attrs.some((function(e){return e.name===t}))}function j(e,t,n){if("application"===e.nodeName.toLowerCase()){if(e.childNodes.length>0)throw Error("<application> elements must not have childNodes. You must put in a closing </application> - self closing is not allowed");var r={type:"application",name:S(e,"name")},o=S(e,"loader");if(o)if(t.loaders&&t.loaders.hasOwnProperty(o))r.loader=t.loaders[o];else if(m)throw Error("Application loader '".concat(o,"' was not defined in the htmlLayoutData"));var a=S(e,"error");if(a)if(t.errors&&t.errors.hasOwnProperty(a))r.error=t.errors[a];else if(m)throw Error("Application error handler '".concat(o,"' was not defined in the htmlLayoutData"));return x(e,r,t),[r]}if("route"===e.nodeName.toLowerCase()){var i={type:"route",routes:[]},c=S(e,"path");c&&(i.path=c),L(e,"default")&&(i.default=!0),L(e,"exact")&&(i.exact=!0),x(e,i,t);for(var u=0;u<e.childNodes.length;u++){var s;(s=i.routes).push.apply(s,f(j(e.childNodes[u],t,n)))}return[i]}if("redirect"===e.nodeName.toLowerCase())return n.redirects[O("/",S(e,"from"))]=O("/",S(e,"to")),[];if("undefined"!=typeof Node&&e instanceof Node){if(e.nodeType===Node.TEXT_NODE&&""===e.textContent.trim())return[];if(e.childNodes&&e.childNodes.length>0){e.routes=[];for(var l=0;l<e.childNodes.length;l++){var d;(d=e.routes).push.apply(d,f(j(e.childNodes[l],t,n)))}}return[e]}if(e.childNodes){for(var p={type:e.nodeName.toLowerCase(),routes:[],attrs:e.attrs},v=0;v<e.childNodes.length;v++){var h;(h=p.routes).push.apply(h,f(j(e.childNodes[v],t,n)))}return[p]}return"#comment"===e.nodeName?[{type:"#comment",value:e.data}]:"#text"===e.nodeName?[{type:"#text",value:e.value}]:void 0}function x(e,t,n){for(var r=(S(e,"props")||"").split(","),o=0;o<r.length;o++){var a=r[o].trim();if(0!==a.length)if(t.props||(t.props={}),n.props&&n.props.hasOwnProperty(a))t.props[a]=n.props[a];else{if(m)throw Error("Prop '".concat(a,"' was not defined in the htmlLayoutData. Either remove this attribute from the HTML element or provide the prop's value"));t.props[a]=C}}}function T(e){return{bootstrap:function(){return Promise.resolve()},mount:function(t){return Promise.resolve().then((function(){t.domElement.innerHTML=e}))},unmount:function(e){return Promise.resolve().then((function(){e.domElement.innerHTML=""}))}}}function I(e){var t=e.location,n=e.routes,r=e.parentContainer,o=e.previousSibling,a=e.shouldMount,i=e.pendingRemovals;return n.forEach((function(e,n){if("application"===e.type){var c=M(e.name),u=document.getElementById(c);a&&(u||((u=document.createElement("div")).id=c),D(u,r,o),o=u)}else if("route"===e.type)o=I({location:t,routes:e.routes,parentContainer:r,previousSibling:o,shouldMount:a&&e.activeWhen(t),pendingRemovals:i});else if(e instanceof Node||"string"==typeof e.type)if(a){if(!e.connectedNode){var s=e instanceof Node?e.cloneNode(!1):R(e);e.connectedNode=s}D(e.connectedNode,r,o),e.routes&&I({location:t,routes:e.routes,parentContainer:e.connectedNode,previousSibling:null,shouldMount:a,pendingRemovals:i}),o=e.connectedNode}else i.push((function(){var t;(t=e.connectedNode)&&(t.remove?t.remove():t.parentNode.removeChild(t)),delete e.connectedNode}))})),o}function W(e){for(var t=e.applicationName,n=e.location,r=e.routes,o=0;o<r.length;o++){var a=r[o];if("application"===a.type){if(a.name===t)return a}else if("route"===a.type){if(a.activeWhen(n)){var i=W({applicationName:t,location:n,routes:a.routes});if(i)return i}}else if(a.routes){var c=W({applicationName:t,location:n,routes:a.routes});if(c)return c}}}function D(e,t,n){n&&n.nextSibling?n.parentNode.insertBefore(e,n.nextSibling):t.appendChild(e)}function M(e){return"single-spa-application:".concat(e)}function R(e){if("#text"===e.type.toLowerCase())return document.createTextNode(e.value);if("#comment"===e.type.toLowerCase())return document.createComment(e.value);var t=document.createElement(e.type);return(e.attrs||[]).forEach((function(e){t.setAttribute(e.name,e.value)})),t.routes&&t.routes.forEach((function(e){t.appendChild(R(e))})),t}function H(e){return e===c||e===u}function B(e){return location["hash"===e.mode?"hash":"pathname"]}function k(e,t,n,r){r.forEach((function(r){"application"===r.type?(e[r.name]||(e[r.name]=[]),e[r.name].push({activeWhen:t,props:_(n,r.props),loader:r.loader})):"route"===r.type?k(e,r.activeWhen,_(n,r.props),r.routes):r.routes&&k(e,t,n,r.routes)}))}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p(p({},e),t)}function U(){return!0}}}}));
